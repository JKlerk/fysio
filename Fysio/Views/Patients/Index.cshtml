@model IEnumerable<Fysio.Models.Patient>



    @{ ViewData["Title"] = "Home Page"; }
    <div class="flex">
        <h1 class="text-4xl font-semibold">
            Patients
        </h1>
        <div class="flex flex-1 justify-end">
            <div class="flex">
                <p class="my-auto mr-4 uppercase text-sm text-gray-600">Username</p>
                <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=facearea&amp;facepad=4&amp;w=256&amp;h=256&amp;q=60"
                    class="h-10 w-10 rounded-full">
            </div>
        </div>
    </div>
    <div class="z-20">
        <transition name="fade" appear leave>
            <div v-if="visible"
                class="fixed top-0 right-0 bottom-0 left-0 w-full h-full bg-black transition-opacity duration-300 opacity-50 z-10">
            </div>
        </transition>
        <transition name="fade" appear leave>
            <div v-if="visible" class="fixed transition-transform p-0 left-0 top-0 font-inter w-full z-10">
                <div class="mt-20 flex justify-center" autocomplete="off">
                    <form action="/Patients/Create" method="POST" v-if="visible" class="bg-white shadow overflow-hidden sm:rounded-lg w-2/3">
                        @Html.AntiForgeryToken()
                        <div class="px-4 py-5 sm:px-6 flex">
                            <div>
                                <h3 class="text-lg leading-6 font-medium text-gray-900">
                                    Patient Information
                                </h3>
                                <p class="mt-1 max-w-2xl text-sm text-gray-500">
                                    Patients details and information.
                                </p>
                            </div>
                            <div class="flex flex-1 justify-end my-auto" v-on:click="visible = false">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-6 w-6 cursor-pointer hover:w-12 hover:h-12" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </div>
                        </div>

                        <div class="grid grid-cols-6 gap-6 px-6">
                            <div class="col-span-6 sm:col-span-3">
                                <label for="first-name" class="block text-sm font-medium text-gray-700">Full
                                    name</label>
                                <input placeholder="John Doe" type="text" name="name" id="first-name" autocomplete="off"
                                    class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 border shadow-sm sm:text-sm border-gray-300 rounded-md" />
                            </div>
                            
                            <div class="col-span-6 sm:col-span-4">
                                <label for="email-address" class="block text-sm font-medium text-gray-700">Email
                                    address</label>
                                <input placeholder="eg. email@email.com" type="text" name="email" id="email-address"
                                    class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 border shadow-sm sm:text-sm border-gray-300 rounded-md"
                                    autocomplete="off" />
                            </div>

                            <div class="col-span-6 sm:col-span-3">
                                <label for="gender" class="block text-sm font-medium text-gray-700">Gender /
                                    Sex</label>
                                <select id="gender" name="gender" autocomplete="off"
                                    class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                    <option>Male</option>
                                    <option>Female</option>
                                    <option>Other</option>
                                </select>
                            </div>

                            <div class="col-span-6 sm:col-span-3">
                                <label for="birthdate" class="block text-sm font-medium text-gray-700">Birthdate</label>
                                <input name="birthdate"
                                    class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 border shadow-sm sm:text-sm border-gray-300 rounded-md"
                                    type="datetime-local" />
                            </div>
                            <div class="col-span-6 sm:col-span-2">
                                <label for="phone" class="block text-sm font-medium text-gray-700">Phone number
                                    </label>
                                <input placeholder="eg. 06 12 12 12 12" type="text" name="phonenumber" id="phone"
                                    autocomplete="off"
                                    class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 border shadow-sm sm:text-sm border-gray-300 rounded-md" />
                            </div>
                            
                            <div class="col-span-6 sm:col-span-6 lg:col-span-2">
                                <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                                <input placeholder="eg. Rotterdam" type="text" name="city" id="city" autocomplete="off"
                                    class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 border shadow-sm sm:text-sm border-gray-300 rounded-md" />
                            </div>
                            
                            <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                                <label for="street" class="block text-sm font-medium text-gray-700">Street name /
                                    house number</label>
                                <input placeholder="eg. Streetname 24" type="text" name="street" id="street" autocomplete="off"
                                    class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 border shadow-sm sm:text-sm border-gray-300 rounded-md" />
                            </div>
                            
                            <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                                <label for="postalcode" class="block text-sm font-medium text-gray-700">ZIP /
                                    Postal</label>
                                <input placeholder="eg. 1232 AB" type="text" name="postalcode" id="postalcode" autocomplete="off"
                                    class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2 border shadow-sm sm:text-sm border-gray-300 rounded-md" />
                            </div>
                        </div>

                        <div class="flex flex-1 justify-end mt-5 pb-6 px-6">
                            <button value="Create" type="submit" v-on:click="addPatient()"
                                class="bg-blue-500 hover:bg-blue-600 rounded-lg text-white p-2 text-center text-sm font-bold">
                                Add
                                patient
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </transition>
    </div>
    <section class="mx-auto mt-10">
        <div class="flex flex-col">
            <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
                <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
                    <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Name
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Data
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Gender
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Birthdate
                                    </th>
                                    <th scope="col" class="relative px-6 py-3">
                                        <span class="sr-only">Edit</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">            
                                @foreach (var patient in @Model)
                                {
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0 h-10 w-10">
                                                <img class="h-10 w-10 rounded-full"
                                                     src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=4&w=256&h=256&q=60"
                                                     alt="">
                                            </div>
                                            <div class="ml-4">
                                                <div class="text-sm font-medium text-gray-900">
                                                    @patient.Name
                                                </div>
                                                <div class="text-sm text-gray-500">
                                                    @patient.Email
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">@patient.Phonenumber</div>
                                        <div class="text-sm text-gray-500">@patient.Street, @patient.City, @patient.Postalcode</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                            @patient.Gender
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        @patient.Birthdate
                                    </td>
                                    <td class="px-6 pt-6 whitespace-nowrap text-right text-sm font-medium flex absolute">
                                        <a href="patients/edit/@patient.Id" class="text-indigo-600 hover:text-indigo-900">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                 stroke-linecap="round" stroke-linejoin="round"
                                                 class="feather feather-edit">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                            </svg>
                                        </a>
                                        <div>
                                            <a v-on:click="curModalId = @patient.Id" class="text-red-600 hover:text-red-900 cursor-pointer">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                     class="feather feather-x">
                                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                                </svg>
                                            </a>
                                            <transition name="fade" appear leave>
                                                <div v-if="curModalId === @patient.Id" class="bg-white p-2 right-0 absolute shadow border rounded-lg">
                                                    <h1>Are you sure you want to delete this item?</h1>
                                                    <div class="grid grid-cols-2 grid-rows-1 gap-4 mt-2">
                                                        <form id="form" action="/Patients/delete/@patient.Id" method="POST">
                                                            @Html.AntiForgeryToken()
                                                            <button type="submit" class="bg-red-500 hover:bg-red-600 text-white p-2 rounded-lg w-full">Yes</button>
                                                        </form>
                                                        <button v-on:click="curModalId = null" class="bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-lg w-full">No</button>
                                                    </div>
                                                </div>
                                            </transition>
                                        </div>
                                    </td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="flex flex-1 justify-end mt-5">
                <button v-on:click="visible = true"
                    class="bg-blue-500 hover:bg-blue-500 rounded-lg text-white py-2 w-1/6 text-center font-bold">
                    Add
                    patient
                </button>
            </div>
        </div>
    </section>
    <script type="application/javascript">
        const app = new Vue({
            el: '#app',
            data: {
                visible: false,
                curModalId: null
            },
            created() {
                console.log("Vue running")
            },
            methods: {
                addPatient() {
                    console.log("Called")
                }
            }
        })
    </script>

    @*@{
    ViewData["Title"] = "Index";
    }

    <h1>Index</h1>

    <p>
        <a asp-action="Create">Create New</a>
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Gender)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Birthdate)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model) {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Gender)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Birthdate)
                </td>
                <td>
                    <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                    <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                    <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                </td>
            </tr>
            }
        </tbody>
    </table>*@