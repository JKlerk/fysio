@model Core.Domain.Patient

<div>
    <div class="flex pb-6">
        <img
            class="rounded-lg w-32"
            src="https://images.unsplash.com/photo-1539698103494-a76dd0436fbc?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NzN8fHBlcnNvbnxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
        />
        <div class="grid grid-cols-1 grid-rows-4 ml-5 w-full">
            <div class="row-span-3">
                <div class="flex">
                    <h1 class="text-2xl font-source">@Model.Name</h1>
                    <div class="flex flex-1 justify-end">
                        <a href="/patients/edit/@Model.Id" class="p-2 bg-fysio-header text-white font-bold rounded-lg hover:opacity-75 transition-opacity duration-100 text-sm"
                            >Edit patient</a
                        >
                    </div>
                </div>
                <p class="text-gray-500 text-sm font-semibold">@Model.Email</p>
            </div>
            <div class="grid grid-cols-2 grid-rows-2 gap-x-12 row-span-1 w-1/4 font-roboto">
                <div class="flex text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 my-auto text-fysio-header" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                        />
                    </svg>
                    <p class="ml-2 my-auto">@Model.PhoneNumber</p>
                </div>
                <div class="flex text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 my-auto text-fysio-header" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path d="M12 14l9-5-9-5-9 5 9 5z" />
                            <path
                                d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"
                            />
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"
                            />
                        </svg>
                    </svg>
                    <p class="ml-2 my-auto">@Model.StaffNumber</p>
                </div>
                <div class="flex text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 my-auto text-fysio-header" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <p class="ml-2 my-auto">@Model.Gender</p>
                </div>
                <div class="flex text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 my-auto text-fysio-header" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                        />
                    </svg>
                    <p class="ml-2 my-auto">@Model.Birthdate.ToString("dd/MM/yyyy")</p>
                </div>
            </div>
        </div>
    </div>
<div class="border-t pt-4 grid grid-cols-3 gap-8">
    @if (@Model.PatientFile != null)
    {
        <div class="grid grid-cols-2 gap-8 col-span-2">
            <div class="col-span-1">
                <h1 class="font-source text-xl font-bold text-fysio-header mb-2">Patient info</h1>
                <div class="grid grid-cols-6 gap-y-2">
                    <p class="text-sm col-span-2">Diagnose code:</p>
                    <p class="text-sm text-gray-700 col-span-4 font-semibold">@Model.PatientFile.DiagnoseCode</p>
                    <p class="text-sm col-span-2">Patient Age:</p>
                    <p class="text-sm text-gray-700 col-span-4 font-semibold">@Model.PatientFile.Age</p>
                    <p class="text-sm col-span-2">Interviewed by:</p>
                    <p class="text-sm text-gray-700 col-span-4 font-semibold">@Model.PatientFile.Interviewer.Name</p>
                    <p class="text-sm col-span-2">Supervised by:</p>
                    <p class="text-sm text-gray-700 col-span-4 font-semibold">@Model.PatientFile.Supervisor.Name</p>
                    <p class="text-sm col-span-2">Therapist:</p>
                    <p class="text-sm text-gray-700 col-span-4 font-semibold">@Model.PatientFile.Practitioner.Name</p>
                    <p class="text-sm col-span-2">Therapist Type:</p>
                    <p class="text-sm text-gray-700 col-span-4 font-semibold">@Model.PatientFile.TherapistType</p>
                </div>
            </div>
            <div class="col-span-1">
                <h1 class="font-source text-xl font-bold text-fysio-header mb-2">Notes</h1>
                <p class="text-sm">
                    @Model.PatientFile.Notes
                </p>
            </div>
            <div class="col-span-2">
                <h1 class="font-source text-xl font-bold text-fysio-header mb-2">Appointments (6)</h1>
                <a class="bg-white hover:bg-gray-100 transition-colors duration-100 p-4 shadow rounded flex mb-6">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-fysio-header my-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    <div class="my-auto ml-2 flex w-full select-none">
                        <div>
                            <h1 class="font-bold">11-05-2001 - 15:00</h1>
                            <p class="text-gray-600 text-sm">Therapist: Therapist.Name</p>
                        </div>
                        <div class="flex flex-1 justify-end my-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-red-400 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </div>
                    </div>
                </a>
                <a class="bg-white hover:bg-gray-100 transition-colors duration-100 p-4 shadow rounded flex mb-6">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-fysio-header my-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    <div class="my-auto ml-2 flex w-full select-none">
                        <div>
                            <h1 class="font-bold">11-05-2001 - 15:00</h1>
                            <p class="text-gray-600 text-sm">Therapist: Therapist.Name</p>
                        </div>
                        <div class="flex flex-1 justify-end my-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-red-400 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </div>
                    </div>
                </a>
                <a href="/appointment/create/1" class="p-2 bg-fysio-header text-white font-bold rounded-lg hover:opacity-75 transition-opacity duration-100 text-sm">+ Create new appointment</a
                >
            </div>
        </div>
        <div class="col-span-1">
            @if (@Model.PatientFile.TreatmentPlan != null)
            {
                <div class="flex">
                    <h1 class="font-source text-xl font-bold text-fysio-header mb-2">Treatments (@Model.PatientFile.TreatmentPlan.Treatments.Count)</h1>
                    <h1 class="font-source text-xl font-bold text-fysio-header mb-2 flex flex-1 justify-end">Period: 10/10/2020 - 20/10/2020</h1>
                </div>
                @foreach (var treatment in @Model.PatientFile.TreatmentPlan.Treatments)
                {
                    <a class="bg-white border hover:bg-gray-100 transition-colors duration-100 p-4 shadow rounded flex mb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-fysio-header my-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                        </svg>
                        <div class="my-auto ml-2 flex w-full select-none">
                            <div>
                                <h1 class="font-bold">@treatment.Type</h1>
                                <p class="text-gray-600 text-sm">Therapist: @treatment.Therapist.Name</p>
                                <p class="text-gray-600 text-sm">Done treatment on: @treatment.Date</p>
                            </div>
                            <div class="flex flex-1 justify-end">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
                                </svg>
                            </div>
                        </div>
                    </a>
                }
            }
            else
            {
                <div class="flex">
                    <h1 class="font-source text-xl font-bold text-fysio-header mb-2">Treatments (0)</h1>
                    <h1 class="font-source text-xl font-bold text-fysio-header mb-2 flex flex-1 justify-end">No treatments</h1>
                </div>
                <div class="flex justify-center mt-10">
                    <a href="/treatmentplan/create/@Model.PatientFile.Id" class="p-2 bg-fysio-header text-white font-bold rounded-lg hover:opacity-75 transition-opacity duration-100 text-sm">+ Create new treatmentplan</a>
                </div>
            }
        </div>
    }
    else
    {
        <h1 class="text-2xl text-fysio-header font-bold">No patient file</h1>
    }
</div>
</div>
